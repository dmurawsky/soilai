"use strict";var t="soil-ai-form-container",e="http://localhost:".concat(4444,"/");var o='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-5.0 -10.0 110 110" width="20px" height="20px">\n  <path d="m92.918 56.398c5.2773-2.6367 5.2773-10.16 0-12.797l-79.418-39.699c-5.6602-2.8281-11.934 2.5312-10.027 8.5586l10.902 34.414h35.625c1.7266 0 3.125 1.3984 3.125 3.125s-1.3984 3.125-3.125 3.125h-35.625l-10.902 34.414c-1.9062 6.0273 4.3672 11.387 10.027 8.5586z" />\n</svg>';function n(n,l){var r=function(t){var e={border:t.style.border,boxShadow:t.style.boxShadow,transform:t.style.transform,transition:t.style.transition};return t.style.border="2px dashed black",t.style.transition="transform 0.2s ease, box-shadow 0.2s ease",t.style.transform="translateY(-3px)",t.style.boxShadow="0px 10px 10px rgba(0, 0, 0, 0.3)",function(){t.style.border=e.border,t.style.boxShadow=e.boxShadow,t.style.transform=e.transform,t.style.transition=e.transition}}(n),s=document.createElement("div");s.id=t,s.style.position="absolute",s.style.zIndex="999",s.style.backgroundColor="#fff",s.style.padding="5px",s.style.borderRadius="5px",s.style.margin="5px",s.style.border="1px solid #ccc",s.style.boxShadow="0px 5px 5px rgba(0, 0, 0, 0.4)",s.style.width="300px",s.style.maxWidth="100%";var c=document.createElement("input");c.style.padding="7px",c.style.border="1px solid #ccc",c.style.borderRadius="3px",c.style.marginRight="3px",c.style.height="19px",c.style.flex="1",c.type="text",c.autofocus=!0,c.placeholder="Describe your change...";var i=document.createElement("button");i.style.backgroundColor="#fff",i.style.padding="4px 5px 2px 4px",i.style.border="1px solid #ccc",i.style.borderRadius="3px",i.type="submit",i.innerHTML=o;var d=document.createElement("div");function a(){r(),s.remove(),d.remove()}d.style.position="absolute",d.style.zIndex="998",d.style.top="0px",d.style.right="0px",d.style.bottom="0px",d.style.left="0px",d.style.backgroundColor="rgba(0, 0, 0, 0.3)";var p=document.createElement("form");p.style.display="flex",p.onsubmit=function(t){t.preventDefault(),function(t,o){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({soilId:t,message:o})}).then((function(t){if(!t.ok)throw new Error("Server responded with status ".concat(t.status));return t.json()})).catch((function(t){return console.error("Error posting to server:",t),null}))}(l,c.value).then((function(t){console.log(t),a()})).catch(console.error)},d.onclick=a;var y=n.getBoundingClientRect(),u=document.body.getBoundingClientRect(),x=y.top-u.top,f=u.bottom-y.bottom,m=y.left-u.left,h=u.right-y.right;f>30?(s.style.top="".concat(y.bottom+window.scrollY,"px"),s.style.left="".concat(y.left+window.scrollX,"px")):x>30?(s.style.top="".concat(y.top-30+window.scrollY,"px"),s.style.left="".concat(y.left+window.scrollX,"px")):h>150?(s.style.top="".concat(y.top+window.scrollY,"px"),s.style.left="".concat(y.right+10+window.scrollX,"px")):m>150?(s.style.top="".concat(y.top+window.scrollY,"px"),s.style.left="".concat(y.left-150+window.scrollX,"px")):(s.style.top="".concat(y.bottom+window.scrollY,"px"),s.style.left="".concat(y.left+window.scrollX,"px")),p.appendChild(c),p.appendChild(i),s.appendChild(p),document.body.appendChild(d),document.body.appendChild(s),setTimeout((function(){return c.focus()}))}document.addEventListener("DOMContentLoaded",(function(){function e(e){if(!document.getElementById(t)){var o=e.target.closest("[data-soil-id]");if(o){var l=o.getAttribute("data-soil-id");l&&n(o,l)}}}return document.addEventListener("click",e),function(){document.removeEventListener("click",e),console.log("Click listener removed.")}}));
//# sourceMappingURL=bundle.js.map
